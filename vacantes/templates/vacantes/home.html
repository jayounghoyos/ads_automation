<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administrador de Vacantes</title>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>
<body>
    <header>
        <img src="{% static 'images/magneto_logo.png' %}" alt="Magneto Logo" class="logo">
        <h2>Social Media (Choose Option)</h2>
    </header>

    <main class="container">
        <div class="social-media-buttons">
            <button class="social-button">
                <img src="{% static 'icons/x.png' %}" alt="X Icon">
            </button>
        </div>
        
        <div class="vacancy-input">
            <h3>Vacantes Seleccionadas</h3>
            <input type="text" id="vacancyInput" placeholder="Agrega el ID de la vacante (e.g., 1, 2, 3)">
            <button onclick="addVacancy()">Agregar Vacante</button>
        </div>

        <ul id="vacancyList"></ul>

        <button class="automate-button" onclick="automatizar()">Automatizar</button>
    </main>

    <script>
        const selectedVacancies = [];

        function addVacancy() {
            const input = document.getElementById('vacancyInput');
            const vacancy = input.value.trim();

            if (vacancy && !selectedVacancies.includes(vacancy)) {
                selectedVacancies.push(vacancy);
                renderVacancyList();
                input.value = '';
            }
        }

        function renderVacancyList() {
            const list = document.getElementById('vacancyList');
            list.innerHTML = '';

            selectedVacancies.forEach((vacancy, index) => {
                const li = document.createElement('li');
                li.textContent = `Vacante ID: ${vacancy}`;

                const removeButton = document.createElement('button');
                removeButton.textContent = 'Eliminar';
                removeButton.onclick = () => {
                    selectedVacancies.splice(index, 1);
                    renderVacancyList();
                };

                li.appendChild(removeButton);
                list.appendChild(li);
            });
        }

        function automatizar() {
            alert(`Automatizando la publicación de ${selectedVacancies.length} vacante(s)`);
            // Aquí puedes llamar al script de automatización con una llamada AJAX o redirigir a otra vista
        }
    </script>
</body>
</html>
